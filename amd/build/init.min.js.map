{"version":3,"file":"init.min.js","sources":["../src/init.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/templates', 'core/str'], function($, ajax, templates, {getString}) {\n    return {\n        init: function(userIdParam) {\n            userid = parseInt(userIdParam);\n\n                //$('#loading-icon').show(); // Show loading icon\n                ajax.call([{\n                    methodname: 'block_learningpath_get_learningpath',\n                    args: {}\n                }])[0].done(function(response) {\n                    templates.render('block_learningpath/learningpaths_table', { learningpathsData: response })\n                        .done(function(html) {\n                            $('#learningpath_table').html(html).show();\n                            $('#loading-icon').hide();\n                        });\n                }).fail(function(ex) {\n                    console.error(ex);\n                    $('#loading-icon').hide();\n                });\n\n             // Click event to load Learning Line Details\n            $(document).on('click', '.load-line-detail', function() {\n                var lpt_id = $(this).data('id');\n\n                $('#learningpath_table').hide(); // Hide main table\n                $('#learninglines_container').show();\n                $('#loading-icon').show();\n\n                ajax.call([{\n                    methodname: 'block_learningpath_get_detail_line',\n                    args: { \n                        lpt_id: lpt_id,\n                        u_id: userid // Use global userid\n                    }\n                }])[0].done(function(response) {\n                    templates.render('block_learningpath/learninglines_table', { learninglinesData: response })\n                        .done(function(html) {\n                            $('#learninglines_table').html(html).show();\n                            $('#loading-icon').hide();\n                        });\n                }).fail(function(ex) {\n                    console.error(ex);\n                    $('#loading-icon').hide();\n                    $('#learninglines_table').html('<p class=\"text-danger\">' + getString('failedtoload', 'block_learningpath') + '</p>');\n                });\n            });\n\n            // Back Button: Return to Main Table\n            $(document).on('click', '#back-button', function() {\n                $('#learninglines_container').hide();\n                $('#learningpath_table').show();\n            });\n\n        }\n    };\n});\n"],"names":["define","$","ajax","templates","getString","init","userIdParam","userid","parseInt","call","methodname","args","done","response","render","learningpathsData","html","show","hide","fail","ex","console","error","document","on","lpt_id","this","data","u_id","learninglinesData"],"mappings":"AAAAA,iCAAO,CAAC,SAAU,YAAa,iBAAkB,aAAa,SAASC,EAAGC,KAAMC,oBAAWC,UAACA,sBACjF,CACHC,KAAM,SAASC,aACXC,OAASC,SAASF,aAGdJ,KAAKO,KAAK,CAAC,CACPC,WAAY,sCACZC,KAAM,MACN,GAAGC,MAAK,SAASC,UACjBV,UAAUW,OAAO,yCAA0C,CAAEC,kBAAmBF,WAC3ED,MAAK,SAASI,MACXf,EAAE,uBAAuBe,KAAKA,MAAMC,OACpChB,EAAE,iBAAiBiB,aAE5BC,MAAK,SAASC,IACbC,QAAQC,MAAMF,IACdnB,EAAE,iBAAiBiB,UAI3BjB,EAAEsB,UAAUC,GAAG,QAAS,qBAAqB,eACrCC,OAASxB,EAAEyB,MAAMC,KAAK,MAE1B1B,EAAE,uBAAuBiB,OACzBjB,EAAE,4BAA4BgB,OAC9BhB,EAAE,iBAAiBgB,OAEnBf,KAAKO,KAAK,CAAC,CACPC,WAAY,qCACZC,KAAM,CACFc,OAAQA,OACRG,KAAMrB,WAEV,GAAGK,MAAK,SAASC,UACjBV,UAAUW,OAAO,yCAA0C,CAAEe,kBAAmBhB,WAC3ED,MAAK,SAASI,MACXf,EAAE,wBAAwBe,KAAKA,MAAMC,OACrChB,EAAE,iBAAiBiB,aAE5BC,MAAK,SAASC,IACbC,QAAQC,MAAMF,IACdnB,EAAE,iBAAiBiB,OACnBjB,EAAE,wBAAwBe,KAAK,0BAA4BZ,UAAU,eAAgB,sBAAwB,cAKrHH,EAAEsB,UAAUC,GAAG,QAAS,gBAAgB,WACpCvB,EAAE,4BAA4BiB,OAC9BjB,EAAE,uBAAuBgB"}